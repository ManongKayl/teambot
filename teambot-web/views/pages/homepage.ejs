<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RFID Tracking System</title>
  <link rel="stylesheet" href="/styles/custom.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>RFID Tracking System</h1>
      <p>Real-time RFID monitoring and status tracking</p>
    </header>

    <div class="table-container">
      <table id="rfid-table">
        <thead>
          <tr>
            <th>#</th>
            <th>RFID</th>
            <th>Status</th>
            <th>Date & Time</th>
          </tr>
        </thead>
        <tbody id="rfid-data">
          <!-- Data will be populated here from database -->
          <tr>
            <td colspan="4" class="empty-state">
              <h3>No Data Available</h3>
              <p>RFID tracking data will appear here once the database is connected.</p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // Placeholder for future database integration
    // This function will fetch and display RFID data
    async function loadRFIDData() {
      try {
        // TODO: Replace with actual API endpoint
        // const response = await fetch('/api/rfid');
        // const data = await response.json();
        // displayRFIDData(data);
        
        console.log('Ready to load RFID data from database');
      } catch (error) {
        console.error('Error loading RFID data:', error);
      }
    }

    // Function to display RFID data in the table
    function displayRFIDData(data) {
      const tbody = document.getElementById('rfid-data');
      
      if (!data || data.length === 0) {
        tbody.innerHTML = `
          <tr>
            <td colspan="4" class="empty-state">
              <h3>No Data Available</h3>
              <p>No RFID records found.</p>
            </td>
          </tr>
        `;
        return;
      }

      tbody.innerHTML = data.map((item, index) => {
        let statusClass = '';
        let statusText = item.status;
        
        // Determine status styling
        if (item.status === 'RFID NOT FOUND') {
          statusClass = 'status-not-found';
        } else if (item.status === '1' || item.status === '0') {
          statusClass = 'status-number';
        } else {
          statusClass = 'status-found';
        }

        return `
          <tr>
            <td>${index + 1}.</td>
            <td class="rfid-cell">${item.rfid}</td>
            <td class="${statusClass}">${statusText}</td>
            <td class="datetime-cell">${item.datetime}</td>
          </tr>
        `;
      }).join('');
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', () => {
      loadRFIDData();
    });
  </script>
</body>
</html>
